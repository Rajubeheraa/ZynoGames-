<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic-Tac-Toe - zynoGames</title>
    <link rel="icon" type="image/x-icon" href="../images/zg.png">
    <link rel="stylesheet" href="../style.css"> <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #1a1a2e;
            color: #e0e0e0;
            font-family: 'Roboto', sans-serif;
        }
        .game-container {
            margin-top: 50px; 
            margin-bottom: 50px;
        }
        #ticTacToeBoard {
            border: 2px solid #00f0ff;
            background-color: #0d0d1a;
            cursor: pointer;
        }
        .game-messages {
            font-family: 'Press Start 2P', cursive;
            color: #ff3366;
            margin-top: 20px;
            font-size: 1.5em;
            text-align: center;
        }
        .reset-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #00f0ff;
            color: #0d0d1a;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .reset-button:hover {
            background-color: #00b3cc;
        }
    </style>
</head>
<body>
    <header class="main-header" style="position: relative; width: 100%;">
        <div class="container">
            <h1 class="site-title" style="font-size: 1.8em;"> zynoGames - Tic-Tac-Toe</h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#games-section">Games</a></li>
                    <li><a href="../index.html#contact-section">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="game-container">
        <canvas id="ticTacToeBoard" width="300" height="300"></canvas>
        <div id="gameMessages" class="game-messages"></div>
        <button id="resetButton" class="reset-button" style="display: none;">Play Again</button>
    </main>

    <footer class="main-footer" style="position: relative; width: 100%;">
        <div class="container">
            <h2>There are other games as well â€” explore them for a better experience.</h2>
        </div>
    </footer> 

    <script>
        const canvas = document.getElementById('ticTacToeBoard');
        const ctx = canvas.getContext('2d');
        const messagesDiv = document.getElementById('gameMessages');
        const resetButton = document.getElementById('resetButton');

        const boardSize = canvas.width;
        const cellSize = boardSize / 3;
        const lineColor = '#00f0ff'; 
        const XColor = '#ff3366'; 
        const OColor = '#00f0ff'; 
        const symbolThickness = 10; 

        let board = [
            [0, 0, 0],
            [0, 0, 0],
            [0, 0, 0]
        ];
        let playerXTurn = true;
        let gameOver = false;

        function drawBoard() {
            ctx.clearRect(0, 0, boardSize, boardSize);
            ctx.strokeStyle = lineColor;
            ctx.lineWidth = 2;

            for (let i = 1; i < 3; i++) {
                ctx.beginPath();
                ctx.moveTo(i * cellSize, 0);
                ctx.lineTo(i * cellSize, boardSize);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(0, i * cellSize);
                ctx.lineTo(boardSize, i * cellSize);
                ctx.stroke();
            }
        }

        function drawX(row, col) {
            const x = col * cellSize;
            const y = row * cellSize;
            const padding = cellSize * 0.2; 
            ctx.strokeStyle = XColor;
            ctx.lineWidth = symbolThickness;

            ctx.beginPath();
            ctx.moveTo(x + padding, y + padding);
            ctx.lineTo(x + cellSize - padding, y + cellSize - padding);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(x + padding, y + cellSize - padding);
            ctx.lineTo(x + cellSize - padding, y + padding);
            ctx.stroke();
        }

        function drawO(row, col) {
            const x = col * cellSize;
            const y = row * cellSize;
            const centerX = x + cellSize / 2;
            const centerY = y + cellSize / 2;
            const radius = (cellSize / 2) * 0.7; 
            ctx.strokeStyle = OColor;
            ctx.lineWidth = symbolThickness;

            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.stroke();
        }

        function checkWinner() {
            
            const lines = [
        
                [board[0][0], board[0][1], board[0][2]],
                [board[1][0], board[1][1], board[1][2]],
                [board[2][0], board[2][1], board[2][2]],
       
                [board[0][0], board[1][0], board[2][0]],
                [board[0][1], board[1][1], board[2][1]],
                [board[0][2], board[1][2], board[2][2]],
             
                [board[0][0], board[1][1], board[2][2]],
                [board[0][2], board[1][1], board[2][0]]
            ];

            for (let i = 0; i < lines.length; i++) {
                const [a, b, c] = lines[i];
                if (a !== 0 && a === b && a === c) {
                    return a; // Returns 1 for O, -1 for X
                }
            }

            if (board.every(row => row.every(cell => cell !== 0))) {
                return 0; // Tie
            }

            return null;
        }

        function handleClick(event) {
            if (gameOver) return;

            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            const col = Math.floor(x / cellSize);
            const row = Math.floor(y / cellSize);

            if (board[row][col] === 0) {
                if (playerXTurn) {
                    drawX(row, col);
                    board[row][col] = -1; // -1 for X
                } else {
                    drawO(row, col);
                    board[row][col] = 1; // 1 for O
                }
                playerXTurn = !playerXTurn;
                updateGameStatus();
            }
        }

        function updateGameStatus() {
            const winner = checkWinner();
            if (winner === -1) {
                messagesDiv.textContent = 'Player 1 (X) Wins!';
                messagesDiv.style.color = XColor;
                gameOver = true;
            } else if (winner === 1) {
                messagesDiv.textContent = 'Player 2 (O) Wins!';
                messagesDiv.style.color = OColor;
                gameOver = true;
            } else if (winner === 0) {
                messagesDiv.textContent = 'It\'s a Tie!';
                messagesDiv.style.color = 'gray';
                gameOver = true;
            } else {
                messagesDiv.textContent = `Current Turn: Player ${playerXTurn ? '1 (X)' : '2 (O)'}`;
                messagesDiv.style.color = playerXTurn ? XColor : OColor;
            }

            if (gameOver) {
                resetButton.style.display = 'block';
            } else {
                resetButton.style.display = 'none';
            }
        }

        function resetGame() {
            board = [
                [0, 0, 0],
                [0, 0, 0],
                [0, 0, 0]
            ];
            playerXTurn = true; 
            gameOver = false;
            drawBoard();
            updateGameStatus();
        }

        canvas.addEventListener('click', handleClick);
        resetButton.addEventListener('click', resetGame);

        // Initial game setup
        drawBoard();
        updateGameStatus();
    </script>
</body>
</html>